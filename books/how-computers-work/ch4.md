# 第4章 程序像河水一样流动着

程序流程分三种：顺序，条件和循环。

## 用流程图表示程序的流程

流程图（Flow Chart）不依赖特定的编程语言。

## 结构化程序设计

结构化程序设计是由学者[戴克斯特拉（Dijkstra）][1]提倡的一种编程风格。简单地说，所谓结构化程序设计就是“为了把程序编写得具备结构性，仅使用顺序执行、条件分支和循环表示程序的流程即可，而不再使用跳转指令”。

## 特殊的程序流程 - 中断处理

中断处理是指计算机使程序的流程突然跳转到程序中的特定地方，这样的地方被称为中断处理例程（Routine）或是中断处理程序（Handler），而这种跳转是通过CPU所具备的硬件功能实现的。

在 Z80 CPU 中有 INT 和 NMI 两个引脚，它们可以接收从 I/O 设备发出的中断请求信号。

中断请求信号由连接到周边设备的 I/O 发出。

## 特殊的程序流程 - 事件驱动

在程序中有 `WinMain()` 和 `WndProc()` 两个函数（代码块）。`WinMain()` 是在程序启动时被调用的主例程（Main Routine）。而 `WndProc()` 并不会被诸位所编写的程序本身调用，Windows 操作系统才是 `WndProc()` 的调用者。这种机制就使得 Windows 和诸位所编写的应用程序这两个程序之间可以进行对话。

事件驱动不适合用流程图表示，适合用**状态转化图**表示。使用 Excel 就可以表示。

[1]: ../../p/dijkstra.md
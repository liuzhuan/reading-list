# 体验一次手工汇编

## 从程序员的角度看硬件

所谓 I/O 的地址空间，是指用于指定 I/O 寄存器的地址范围。

## 机器语言和汇编语言

有人发明出了一种编程方法，根据表示指令功能的英语单词起一个相似的昵称，并将这个昵称赋予给0和1的组合。这种类似英语单词的昵称叫作“**助记符**”，使用助记符的编程语言叫作“**汇编语言**”。

标签的作用是为该行代码对应的内存地址起一个名字。

汇编语言代码

```
标签    操作码      操作数
        LD          A, 207
        OUT         (2), A
        LD          A, 255
        OUT         (2), A
        ...
LOOP:   IN          A, (0)
        OUT         (1), A
        JP          LOOP
```

操作码就是表示“做什么”的指令。操作数表示的是指令执行的对象。CPU的寄存器、内存地址、I/O地址或者直接给出的数字都可以作为操作数。

汇编语言的语法和英语祈使句的语法很像。比如 Give me money。

汇编语言使用十进制(123)和十六进制(132H)。

## Z80 CPU 的寄存器结构

CPU 内部存储数据的地方叫**寄存器**。Z80 CPU 常见的寄存器有：

1. A 寄存器：累加器
1. F 寄存器：标志寄存器
1. PC 寄存器：程序指针
1. SP 寄存器：栈顶指针

## 追踪程序的运行过程

用汇编语言编写的程序是不能直接运行的，必须先转换成机器语言。

## 尝试手工汇编

## 尝试估算程序的执行时间